<dashboard version="1.1" theme="light" script="tabs.js" stylesheet="tabs.css">
  <label>Stage 3 : Analysis Method - Anomaly Detection</label>
  <row>
    <panel>
      <html>
            <img width="1300" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_stage_banner_03_01.png"/>
             <ul>
            <h1>
               <!--img width="45" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_icon_03.png"/>
               ANOMALY DETECTION : --><font color="#8B0000">Find deviation from the baseline using standard deviation</font>
            </h1>
            <!--h2>OVERVIEW :</h2-->
               <p>This section introduces the first analysis method for predictive maintenance, applying <b>anomaly detection</b> to determine wear and tear by statistically calculating the <b>standard deviation</b>. This technique is useful to apply when you need to determine the condition of an asset based on a single or limited number of metrics. This technique can be used to monitor asset metrics of wear and tear, abnormal operation status, or for monitoring quality, such as with <b>Statistical Process Control (SPC)</b>. These steps cover a technique to profile the behavior of an engine asset during service and how to determine the abnormal state of the engine.
               </p>
            </ul>
            <img width="200" align="top" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_st_navi_gr_button_02.png"/>
            <img width="650" align="top" usemap="#nav_map" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_stage_button_new_03_1.png"/>
            <map name="nav_map">
               <area shape="rect" coords="5,3,95,83" alt="Stage_01" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_get_data_01"/>
               <area shape="rect" coords="140,3,233,83" alt="Stage_02" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_exploration_01"/>
               <area shape="rect" coords="280,3,510,60" alt="Stage_03" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_01"/>
               <area shape="rect" coords="280,65,510,93" alt="Stage_03-01" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_02"/>
               <area shape="rect" coords="280,105,510,130" alt="Stage_03-02" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_03"/>
               <area shape="rect" coords="280,140,510,165" alt="Stage_03-04" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_04"/>
               <area shape="rect" coords="558,3,650,83" alt="Stage_04" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_apply_01"/>
            </map>
            <br/>
         </html>
    </panel>
  </row>
  
  
  <row id="tabs">
    <panel>
      <html>
            <ul id="tabs" class="nav nav-tabs">
               <li> <img width="200" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_navi_gr_button.png"/>
               </li>
               <li class="active">
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="tab_objective">1 | OBJECTIVE</a>
               </li>
               <li>
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="tab_method">2 | METHODOLOGY REVIEW</a>
               </li>
               <li>
                  <a href="#" class="toggle-tab" data-toggle="tab" data-elements="tab_step_00,tab_step_00_01,tab_step_00_02,tab_step_00_03,tab_step_00_04,tab_step_00_05,tab_step_01,tab_step_02,tab_step_03,tab_step_04_01,tab_step_04,tab_step_05,tab_step_06,tab_step_07,tab_step_08,tab_step_09,tab_step_10">3 | STEP-BY-STEP</a>
               </li>
               <!--li><a href="#" class="toggle-tab" data-toggle="tab" data-elements="tab_next">WHAT'S NEXT?</a></li-->
            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_objective">
    <panel>
      <html>
            <h1>
               <img width="45" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_target.png"/>
               <b>OBJECTIVE :</b> 
            </h1>
            <ul>
               <p>As covered in the analysis overview section, the <b>anomaly detection</b> method can be used with <b>univariate data</b> to analyze single key metrics that indicate the need for maintenance. The <b>anomaly detection</b> approach defines a data-driven threshold using a statistical concept, <b>standard deviation</b>. This method is not ideal for complex assets with varieties of metrics, because it requires an individual policy to be defined for all sensors in an asset.</p>
               <img width="700" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_technique_01.png"/><br/>
               <p>This section introduces an <b>anomaly detection</b> approach to maintenance data, where the characteristics of the data drive the “profile” or “baseline” of the asset, and can then be used to identify anomalies.</p>
               <p>The technique can be applied to a broad set of use cases, from general asset behavior monitoring to <b>predictive maintenance</b>. It is an effective way to profile the behavior of the assets without defining a fixed threshold, where <b>standard deviation</b> and <b>averages</b> are derived from the metrics.</p>
               <p>The goal of the “Analysis” stage is for you to apply basic statistical analytical methods like data distribution analysis or standard deviation to performance data, and then define a data-driven threshold based on the standard deviation.</p>
               <p>
                  <b>After this section, users will be able to</b> :
               <ul>
                  <ul>
                     <li>Calculate basic statistics (average, standard deviation) from the dataset.</li>
                     <li>Define adaptive thresholds based on averages and standard deviation.</li>
                     <li>Evaluate anomalies that would indicate the need for maintenance.</li>
                  </ul>
               </ul>
               </p>
               Review the methodology to understand how to apply standard deviation for adaptive thresholding. Proceed with the step-by-step exercise to apply anomaly-detection-based thresholding for maintenance conditions.<br/>

            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_method">
    <panel>
      <html tokens="true">
            <h1>
               <img width="45" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_bulb.png"/>
               <b>METHODOLOGY REVIEW :</b> 
               <!--a target="_blank" href="https://splunk.box.com/s/91omcsxgsg7pkacabbxum96n0gpim47k">
                  <img height="15" width="130" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_demo_video.png"/>
                  </a-->
            </h1>
            <p>This section introduces the basic statistical concepts that you can use to detect anomalies, such as calculating a standard deviation and defining an upper and lower bound threshold.</p>
            <h2>
               <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/>
               <b>Standard Deviation : <font color="#8B0000">Understanding the variation in the data</font>
               </b>
            </h2>
            <ul>
               <p>
                  Standard deviation is a measurement used to quantify the amount of variation in a set of data values. A low standard deviation indicates that the data points tend to be close to the mean (also called the expected value) of a set of values, while a high standard deviation indicates that the data points are spread out over a wider range of values.
               </p>
               <br/>
               <ul>
                  <img width="700" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_Anal_Anomaly_01.png"/>
                  <br/>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The chart on the left shows a perfect standard deviation bell curve, that outlines the percentage of coverage per 1 standard deviation. A perfect standard deviation is shaped like a bell, where 1 standard deviation (stdev) equates to 68.2% of the entire dataset. It looks similar to and has similar characteristics of a normal distribution chart.<br/>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                 The illustration on the right displays datasets with same averages, but different standard deviation values, which illustrates a completely different type of characteristics in overall distribution of data.<br/>
                 </ul>
                 <br/>
               <p>n the case of engines or turbines, data values stay within a given range, then spread out in a direction. This kind of dataset would create a tilted bell curve.</p>
                 <ul>
                     <img width="700" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_Anal_Anomaly_02.png"/><br/>
                     <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                     The left chart shows this particular value increasing over time as this sensor part wears out.
                     <br/>
                     <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                     The right chart is a histogram that shows the distribution of values. Because the majority of values are in the same range, that indicates a normal condition of the part, and as the sensor parts wear out, the values change.
                     <br/>
                 </ul>
            </ul>
            <br/>
            
            <h2>
               <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/>
               <b>Standard Deviation based Thresholding : <font color="#8B0000">Defining threshold using standard deviation</font>
               </b>
            </h2>
            <ul>
               <p>
                  Standard-deviation-based thresholding is a method used to apply an adaptive threshold based on the collected data values.  Instead of defining a fixed threshold, the threshold is calculated per asset so that statistics can define an acceptable range per each asset and look for conditions that deviate a certain percentage from the mean.
               </p>
               <p>
                 For example, define a threshold that applies to each asset, based on the historical performance of the asset. For a jet engine, rather than having one fixed threshold to define good performance for all engines, you need a different threshold for each engine because they are used in different ways, or for different routes.
               </p>
               <p>
                 You can define the upper threshold limit by calculating the standard deviation and adding it to the average value. This threshold separates normal values from anomalous values. Define the lower threshold by subtracting the standard deviation from the average value.    
               </p>
               <p>To control the coverage range of a normal window, you can use a variable multiplier to define the range of the normal state. A variable multiplier of 1 means that 34% of the values are considered “Normal”. A higher variable multiplier expands the range of what is “normal”, while a lower variable multiplier reduces the range. Use a higher variable multiplier to make an anomaly less sensitive. </p>
               
               <p>You can use the following formula :
                  <ul><ul><ul>
                   <li>Supper Limit Threshold =  Average + (Standard deviation * Variable multiplier)</li>
                   <li>Lower Limit threshold = Average - (Standard deviation * Variable multiplier)</li>
                 </ul></ul></ul>
                 </p>

               <br/>
               <ul>
                  <img width="600" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_Anal_Anomaly_03.png"/>
                  <br/>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The upper bound threshold is calculated at around 0.9 and a variable multiplier of “1” is applied to make it more sensitive to value increases. Lowering the upper threshold to be more sensitive in this case is important because as the equipment wears out, the sensor value trend goes up.<br/>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  Lower bound threshold is calculated at around 1.7 by applying a variable multiplier of 1.8. In this case the lower threshold was widened to make it more less sensitive to false positive values.<br/>
                  <br/>
                  
               </ul>
            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_step_00">
    <panel>
      <html tokens="true">
            <h1>
               <img width="45" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_tool.png"/>
               <b>STEP BY STEP :</b> 
               <!--a target="_blank" href="https://splunk.box.com/s/91omcsxgsg7pkacabbxum96n0gpim47k">
                  <img height="15" width="130" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_demo_video.png"/>
                  </a-->
            </h1>
            <p>
              This step-by-step section guides you through applying the key techniques covered in the "Methodology Review" to the jet engine dataset. The Left column provides detailed instruction and the right column provides the results of the step. Use <img width="120" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/> button to jump directly into a live environment for each step.
              </p>
            <h2>
               <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/>
               <b>Calculate Standard Deviation : <font color="#8B0000">Data variation based anomaly detection</font>
               </b>
            </h2>
            <ul>
               <p>Calculate some basic statistics on a feature that has a high correlation with engine wear to define the threshold.</p>
            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_step_01">
    <panel>
      <html tokens="true">
            <style>
               * {
               box-sizing: border-box;
               }
               left_box {
               float: left;
               width: 95%;
               }
               middle_arrow {
               margin: auto;
               float: left;
               padding: 10px;
               width: 5%;
               }
               }
            </style>
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 01</b>
               : Select the jet engine dataset using the `get_pm_event_window(X)` search macro. Then use the "trendline" command to smooth out spikes in the data. The "where" command filters out empty records, and finally the "table" command lets you view the engine sensor values that are already normalized and smoothened.
               <br/>
               <ul>
                  <pre width="800"><font color="#8B0000"><b>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) </b></font>
| where unit_cycle&gt;3 
| table unit_cycle sma4*
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The results show pre-processed events from the get_pm_event_window metrics, and the applied smoothing technique smooths out spikes in the metrics data. <br/> 
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The newly-processed metric fields start with “sma4” and represent an average of the last 4 values for the metric.
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search1_1549942452.2156&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4*&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 01 : Retreived data and preprocessed.</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4*
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
  <row id="tab_step_02">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 02</b>
               : Out of multiple features in the data, select "LPT_Outlet_Temp" to apply anomaly detection.   Select the “LPT_Outlet_Temp” feature based on the results of exploring the data, because it has high correlation with wear and tear of the asset. The LPT_Outlet_Temp feature has high correlation with the change as the asset wears out.  Use the table command to display the "LPT_Outlet_Temp" field.
               <br/>
               <ul>
                  <pre width="800">`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| <font color="#8B0000"><b>table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) </b></font>
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The result shows the selected data "LPT_Outlet_Temp" with the unit_cycle number.
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search2_1549942452.2157&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>         
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 02 : LPT_Outlet_Temp field selected for analysis</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp)
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
  <row id="tab_step_03">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 03</b>
               :  Calculate the average values and standard deviations using the eventstats command, storing averages as "avg" and standard deviation as "stdev".
               <br/>
               <ul>
                  <pre width="800">`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| <font color="#8B0000"><b>eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev </b></font>
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The average and standard deviation columns are added to the table along with "LPT_Outlet_Temp". 
As mentioned in the methodology section, anomaly detection applies to a single metric. Here, the average and standard deviation is calculated for the single feature, LPT_Outlet_Temp.
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search3_1549942452.2158&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)%20%0A%7C%20eventstats%20avg(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20avg%2C%20stdev(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20stdev&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 03 : Appended average and standard deviation.</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
  
  <row id="tab_step_00_02">
    <panel>
      <html tokens="true">
            <h2>
               <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/>
               <b>Define Threshold : <font color="#8B0000">Applying threshhold based on standard deviation.</font>
               </b>
            </h2>
            <ul>
               <p>Using the calculated average and standard deviation for LPT_Outlet_Temp, define a lower and upper threshold for the data.
               </p>
            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_step_04">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 04</b>
               :  Define the lower and upper bound threshold using the eval command. Lower bound as (avg-stdev*1.8) and upper bound as (avg+stdev*1)
               <br/>
               <ul>
                  <pre width="800">`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| <font color="#8B0000"><b>eval lowerBound=(avg-stdev*1.8), upperBound=(avg+stdev*1) </b></font>
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The result adds the additional columns lowerBound and upperBound to each metric. Notice that the upper and lower bound thresholds are different because different variable multipliers were applied.  This is something an analysts can decide and tune based on the characteristics of the equipment. Because this example is “temperature”, the analysts might only care about a rising temperature, rather than a cooling temperature. This is reflected in the variable multiplier where upper values are set lower using “1” as the multiplier to make the threshold more sensitive to rising temperature.
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search4_1549942452.2159&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)%20%0A%7C%20eventstats%20avg(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20avg%2C%20stdev(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20stdev%20%0A%7C%20eval%20lowerBound%3D(avg-stdev*1.8)%2C%20upperBound%3D(avg%2Bstdev*1)&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>
 
            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 04 : Calculated Lower and Upper thresholds</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*1.8), upperBound=(avg+stdev*1)  
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
<row id="tab_step_00_03">
    <panel>
      <html tokens="true">
            <h2>
               <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/>
               <b>Evaluate Outliers : <font color="#8B0000">Determine outliners that exceeds Lower and Upper threshold.</font>
               </b>
            </h2>
            <ul>
               <p>Now that you’ve calculated the standard deviation, average, and defined upper and lower thresholds for the data, you are ready to identify values that exceed the threshold and are outliers. Label the outlier values as “1” to identify that they are outliers.
               </p>
            </ul>
         </html>
    </panel>
  </row>
  
  
  <row id="tab_step_05">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 05</b>
               : Evaluate outliers by comparing the data points with lower and upper limits. Use the eval command and if logic to define a Boolean 0 or 1 value for the values, where 1 is an outlier value.
               <br/>
               <ul>
                  <pre width="800">`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*exact(1.8)), upperBound=(avg+stdev*exact(1)) 
| <font color="#8B0000"><b>eval isOutlier=if('sma4(SS_sname_LPT_Outlet_Temp)' &lt; lowerBound OR 'sma4(SS_sname_LPT_Outlet_Temp)' &gt; upperBound, 1, 0) </b></font>
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  A new column "isOutlier" is added to each metric, where a label of 1 identifies an outlier. 
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search5_1549942452.2160&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)%20%0A%7C%20eventstats%20avg(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20avg%2C%20stdev(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20stdev%20%0A%7C%20eval%20lowerBound%3D(avg-stdev*exact(1.8))%2C%20upperBound%3D(avg%2Bstdev*exact(1))%20%0A%7C%20eval%20isOutlier%3Dif(%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3C%20lowerBound%20OR%20%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3E%20upperBound%2C%201%2C%200)&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 05 : Outliers identified.</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*exact(1.8)), upperBound=(avg+stdev*exact(1)) 
| eval isOutlier=if('sma4(SS_sname_LPT_Outlet_Temp)' &lt; lowerBound OR 'sma4(SS_sname_LPT_Outlet_Temp)' &gt; upperBound, 1, 0) 
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
  <row id="tab_step_06">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 06</b>
               : Select the fields that are relevant in the results.  Use the fields command to select only the _time, "sma4(SS_sname_LPT_Outlet_Temp)", lowerBound, upperBound, and isOutlier fields. 
               <br/>
               <ul>
                  <pre width="800">`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*exact(1.8)), upperBound=(avg+stdev*exact(1)) 
| eval isOutlier=if('sma4(SS_sname_LPT_Outlet_Temp)' &lt; lowerBound OR 'sma4(SS_sname_LPT_Outlet_Temp)' &gt; upperBound, 1, 0) 
| <font color="#8B0000"><b>fields _time, "sma4(SS_sname_LPT_Outlet_Temp)", lowerBound, upperBound, isOutlier </b></font>
</pre>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  With the necessary fields selected,  you can visualize the results.
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search6_1549942452.2161&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)%20%0A%7C%20eventstats%20avg(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20avg%2C%20stdev(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20stdev%20%0A%7C%20eval%20lowerBound%3D(avg-stdev*exact(1.8))%2C%20upperBound%3D(avg%2Bstdev*exact(1))%20%0A%7C%20eval%20isOutlier%3Dif(%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3C%20lowerBound%20OR%20%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3E%20upperBound%2C%201%2C%200)%20%0A%7C%20fields%20_time%2C%20%22sma4(SS_sname_LPT_Outlet_Temp)%22%2C%20lowerBound%2C%20upperBound%2C%20isOutlier&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=statistics&amp;display.page.search.tab=statistics">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <table>
        <title>RESULT STEP 06 : Selected fields with relevant results</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*exact(1.8)), upperBound=(avg+stdev*exact(1)) 
| eval isOutlier=if('sma4(SS_sname_LPT_Outlet_Temp)' &lt; lowerBound OR 'sma4(SS_sname_LPT_Outlet_Temp)' &gt; upperBound, 1, 0) 
| fields _time, "sma4(SS_sname_LPT_Outlet_Temp)", lowerBound, upperBound, isOutlier
               </query>
          <earliest>0</earliest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">6</option>
        <option name="drilldown">none</option>
      </table>
    </panel>
  </row>
  
  
  <row id="tab_step_07">
    <panel>
      <html tokens="true">
            <section>
               <left_box>
            <ul>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_01.png"/>
               <b>STEP 07</b>
               : To visualize the trend and outliers, select Visualization and choose Outliers Chart. 
               <br/>
               <ul>
                  <img width="250" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_Anal_Anomaly_04.png"/>
                  <br/>
                  <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
                  The chart shows the dark shaded area as dataset values within the threshold range and yellow dotted points as outliers. 
                        <br/><br/>
                        <a target="exercise_window" href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/search?earliest=0&amp;admin__admin_U3BsdW5rX0Vzc2VudGlhbHNfUHJlZGljdGl2ZV9NYWludGVuYW5jZV9mb3JfSU9U__search7_1549942452.2162&amp;q=search%20%60get_pm_event_window(194)%60%20%0A%7C%20trendline%20sma4(SS_sname_Bleed_Enthalpy)%2C%20sma4(SS_sname_Bypass_Ratio)%2C%20sma4(SS_sname_Corr_Core_Speed)%2C%20sma4(SS_sname_Corr_Fan_Speed)%2C%20sma4(SS_sname_Fuel_Flow_Ratio)%2C%20sma4(SS_sname_HPC_Outlet_Temp)%2C%20sma4(SS_sname_HPT_Coolant_Bleed)%2C%20sma4(SS_sname_LPC_Outlet_Temp)%2C%20sma4(SS_sname_LPT_Outlet_Temp)%2C%20sma4(SS_sname_Phys_Core_Speed)%2C%20sma4(SS_sname_Phys_Fan_Speed)%20%0A%7C%20where%20unit_cycle%3E3%20%0A%7C%20table%20unit_cycle%20sma4(SS_sname_LPT_Outlet_Temp)%20%0A%7C%20eventstats%20avg(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20avg%2C%20stdev(%22sma4(SS_sname_LPT_Outlet_Temp)%22)%20as%20stdev%20%0A%7C%20eval%20lowerBound%3D(avg-stdev*exact(1.8))%2C%20upperBound%3D(avg%2Bstdev*exact(1))%20%0A%7C%20eval%20isOutlier%3Dif(%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3C%20lowerBound%20OR%20%27sma4(SS_sname_LPT_Outlet_Temp)%27%20%3E%20upperBound%2C%201%2C%200)%20%0A%7C%20fields%20_time%2C%20%22sma4(SS_sname_LPT_Outlet_Temp)%22%2C%20lowerBound%2C%20upperBound%2C%20isOutlier&amp;display.page.search.mode=fast&amp;dispatch.sample_ratio=1&amp;latest=&amp;display.general.type=visualizations&amp;display.page.search.tab=visualizations&amp;display.visualizations.type=custom&amp;display.visualizations.charting.chart=line&amp;display.visualizations.custom.type=Splunk_ML_Toolkit.OutliersViz">
                        <img width="150" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SE_PM_icon_open_search_gr.png"/>
                        </a>
               </ul>
            </ul>
               </left_box>

            </section>
         </html>
    </panel>
    <panel>
      <viz type="Splunk_ML_Toolkit.OutliersViz">
        <title>RESULT STEP 07 : Anomalies and outliers visualized</title>
        <search>
          <query>`get_pm_event_window(194)` 
| trendline sma4(SS_sname_Bleed_Enthalpy), sma4(SS_sname_Bypass_Ratio), sma4(SS_sname_Corr_Core_Speed), sma4(SS_sname_Corr_Fan_Speed), sma4(SS_sname_Fuel_Flow_Ratio), sma4(SS_sname_HPC_Outlet_Temp), sma4(SS_sname_HPT_Coolant_Bleed), sma4(SS_sname_LPC_Outlet_Temp), sma4(SS_sname_LPT_Outlet_Temp), sma4(SS_sname_Phys_Core_Speed), sma4(SS_sname_Phys_Fan_Speed) 
| where unit_cycle&gt;3 
| table unit_cycle sma4(SS_sname_LPT_Outlet_Temp) 
| eventstats avg("sma4(SS_sname_LPT_Outlet_Temp)") as avg, stdev("sma4(SS_sname_LPT_Outlet_Temp)") as stdev 
| eval lowerBound=(avg-stdev*exact(1.8)), upperBound=(avg+stdev*exact(1)) 
| eval isOutlier=if('sma4(SS_sname_LPT_Outlet_Temp)' &lt; lowerBound OR 'sma4(SS_sname_LPT_Outlet_Temp)' &gt; upperBound, 1, 0) 
| fields _time, "sma4(SS_sname_LPT_Outlet_Temp)", lowerBound, upperBound, isOutlier
               </query>
          <earliest>0</earliest>
        </search>
        <option name="drilldown">all</option>
      </viz>
    </panel>
  </row>
  
  
  
  <row id="tab_next">
    <panel>
      <html tokens="true">
            <h1>
               <img width="45" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/PM_image_icon_ques.png"/>
               <b>What's Next?</b>
               <!--a href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/sec_search_02">
                  <img width="100" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_next_high.png"/>
                  </a-->
            </h1>
            <ul>
               <p>
                  You completed the first technique, applying the <b>anomaly detection</b> method.  Move on to the next stage in applying the <b>Unsupervised Learning</b> method. 
               </p>
               <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_03.png"/>
               <b>NEXT STEP </b> : Evaluate the Unsupervised Learning method to jet engine data.
               <br/>
               <br/>
               <a href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_01">
               <img height="15" width="118" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_button_prev_exer_nr.png"/>
               </a>
               <a href="/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/pm_analysis_03">
               <img height="15" width="118" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_button_next_exer_nr.png"/>
               </a>
            </ul>
            <table>
               <tr>
                  <td>
                     <div class="col-sm-6 col-lg-6 ">
                        <h1>
                           <img width="30" src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/SI_image_bullet_04.png"/> Do you need help? Ask an Industrial IOT Predictive Maintenance Expert
                        </h1>
                        <ul>
                           <p>Need help with your environment and requirements? Send us your questions and we will get back to you as soon as possible.</p>
                           <p>If you need immediate assistance, check out our community forum, <a href="http://answers.splunk.com/">Splunk Answers. (i1)</a>
                           </p>
                           <a href="https://www.splunk.com/en_us/ask-an-expert.html?expertCode=Splunk_Essentials_Predictive_Maintenance_for_IOTenance" class="btn" target="_ask_expert">Contact Us</a>
                        </ul>
                     </div>
                  </td>
                  <td>
                     <div class="col-sm-6 col-lg-5 col-lg-offset-1 col-md-offset-1 photo-box">
                        <img src="/static/app/Splunk_Essentials_Predictive_Maintenance_for_IOT/Brian_Gilmore_white.png" alt="Predictive Maintenance expert photo" title=""/>
                     </div>
                  </td>
               </tr>
            </table>
         </html>
    </panel>
  </row>
</dashboard>